<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/orderbook.js~OrderBook.html">OrderBook</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/orderbook_sync.js~OrderBookSync.html">OrderBookSync</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">clients</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/clients/authenticated.js~AuthenticatedClient.html">AuthenticatedClient</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/clients/public.js~PublicClient.html">PublicClient</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/lib/clients/websocket.js~WebSocketClient.html">WebSocketClient</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="gdax">GDAX</h1>
<p>The official Node.js library for the <a href="https://docs.gdax.com/">GDAX
API</a> (formerly Coinbase Exchange).</p>
<p><em>Note: this library may be subtly broken or buggy. The code is released under
the MIT License &#x2013; please take the following message to heart:</em></p>
<blockquote>
<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*</p>
</blockquote>
<h2 id="features">Features</h2>
<ul>
<li>Easy programmatic trading.</li>
<li>A customizable, websocket-synced Order Book implementation.</li>
<li>API clients with convenient methods for every API endpoint.</li>
<li>Abstracted interfaces &#x2013; don&apos;t worry about HMAC signing or JSON formatting,
the library does it for you.</li>
<li>Semantic versioning.</li>
</ul>
<h2 id="installation">Installation</h2>
<pre><code class="lang-bash"><code class="source-code prettyprint"># From NPM
npm install gdax
# From Github
npm install coinbase/gdax-node</code>
</code></pre>
<h2 id="quick-start">Quick Start</h2>
<h3 id="the-public-api-client">The Public API Client</h3>
<p>The GDAX API has both public and private endpoints. If you&apos;re only
interested in the public endpoints, you should use a <code>PublicClient</code>.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var Gdax = require(&apos;gdax&apos;);
var publicClient = new Gdax.PublicClient();</code>
</code></pre>
<p>All API methods are callback based. Your callback should accept three arguments:</p>
<pre><code><code class="source-code prettyprint">var callback = function(err, response, data) {
  // your code here.
};</code>
</code></pre><p>This callback will be passed directly to <a href="https://github.com/request/request">the underlying <code>request</code> library&apos;s
<code>request</code> method</a>.  <code>err</code> will be either
<code>null</code> or an <code>Error</code>. <code>response</code> will be a generic HTTP response abstraction
created by the <code>request</code> library. <code>data</code> will be the result of JSON-decoding
the server&apos;s response, or <code>null</code> if the response was not parseable. You can
learn about the API responses of each endpoint <a href="https://docs.gdax.com/#market-data">by reading our
documentation</a>.</p>
<h4 id="public-api-methods">Public API Methods</h4>
<ul>
<li><p><a href="https://docs.gdax.com/#get-products"><code>getProducts</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">publicClient.getProducts(callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#get-product-order-book"><code>getProductOrderBook</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">// Get the order book at the default level of detail.
publicClient.getProductOrderBook(callback);
// Get the order book at a specific level of detail.
publicClient.getProductOrderBook({&apos;level&apos;: 3}, callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#get-product-ticker"><code>getProductTicker</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">publicClient.getProductTicker(callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#get-trades"><code>getProductTrades</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">publicClient.getProductTrades(callback);
// To make paginated requests, include page parameters
publicClient.getProductTrades({&apos;after&apos;: 1000}, callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#get-trades"><code>getProductTradeStream</code></a>
Wraps around <code>getProductTrades</code>, fetches all trades with IDs <code>&gt;= tradesFrom</code> and <code>&lt;= tradesTo</code>.
Handles pagination and rate limits.</p>
</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var trades = publicClient.getProductTradeStream(8408000, 8409000);
// tradesTo can also be a function
var trades publicClient.getProductTradeStream(8408000, function(trade) {
    return Date.parse(trade.time) &gt;= 1463068e6
})</code>
</code></pre>
<ul>
<li><p><a href="https://docs.gdax.com/#get-historic-rates"><code>getProductHistoricRates</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">publicClient.getProductHistoricRates(callback);
// To include extra parameters:
publicClient.getProductHistoricRates({&apos;granularity&apos;: 3000}, callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#get-24hr-stats"><code>getProduct24HrStats</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">publicClient.getProduct24HrStats(callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#get-currencies"><code>getCurrencies</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">publicClient.getCurrencies(callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#time"><code>getTime</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">publicClient.getTime(callback);</code>
</code></pre>
</li>
</ul>
<h3 id="the-authenticated-api-client">The Authenticated API Client</h3>
<p>The <a href="https://docs.gdax.com/#private">private exchange API
endpoints</a> require you to
authenticate with an API key. You can create a new API key <a href="https://gdax.com/settings">in your exchange
account&apos;s settings</a>.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var Gdax = require(&apos;gdax&apos;);
var authedClient = new Gdax.AuthenticatedClient(
  key, b64secret, passphrase);</code>
</code></pre>
<p>Like the <code>PublicClient</code>, all API methods are callback based. The callback
should be in the same format:</p>
<pre><code><code class="source-code prettyprint">var callback = function(err, response, data) {
  // your code here.
};</code>
</code></pre><p>The <code>AuthenticatedClient</code> inherits all of the API methods defined by the
<code>PublicClient</code>, so if you&apos;re hitting both public and private API endpoints you
only need to create a single client.</p>
<h4 id="private-api-methods">Private API Methods</h4>
<ul>
<li><p><a href="https://docs.gdax.com/#list-accounts"><code>getAccounts</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">authedClient.getAccounts(callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#get-an-account"><code>getAccount</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var accountID = &apos;7d0f7d8e-dd34-4d9c-a846-06f431c381ba&apos;;
authedClient.getAccount(accountID, callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#get-account-history"><code>getAccountHistory</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var accountID = &apos;7d0f7d8e-dd34-4d9c-a846-06f431c381ba&apos;;
authedClient.getAccountHistory(accountID, callback);
// For pagination, you can include extra page arguments
authedClient.getAccountHistory(accountID, {&apos;before&apos;: 3000}, callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#get-holds"><code>getAccountHolds</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var accountID = &apos;7d0f7d8e-dd34-4d9c-a846-06f431c381ba&apos;;
authedClient.getAccountHolds(accountID, callback);
// For pagination, you can include extra page arguments
authedClient.getAccountHolds(accountID, {&apos;before&apos;: 3000}, callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#place-a-new-order"><code>buy</code>, <code>sell</code></a>
```javascript
// Buy 1 BTC @ 100 USD
var buyParams = {
&apos;price&apos;: &apos;100.00&apos;, // USD
&apos;size&apos;: &apos;1&apos;,  // BTC
&apos;product_id&apos;: &apos;BTC-USD&apos;,
};
authedClient.buy(buyParams, callback);</p>
</li>
</ul>
<p>// Sell 1 BTC @ 110 USD
var sellParams = {
  &apos;price&apos;: &apos;110.00&apos;, // USD
  &apos;size&apos;: &apos;1&apos;, // BTC
  &apos;product_id&apos;: &apos;BTC-USD&apos;,
};
authedClient.sell(sellParams, callback);</p>
<pre><code><code class="source-code prettyprint">
* [`cancelOrder`](https://docs.gdax.com/#cancel-an-order)
```javascript
var orderID = &apos;d50ec984-77a8-460a-b958-66f114b0de9b&apos;;
authedClient.cancelOrder(orderID, callback);</code>
</code></pre><ul>
<li><p><a href="https://docs.gdax.com/#cancel-all"><code>cancelOrders</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">authedClient.cancelOrders(callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#cancel-all"><code>cancelAllOrders</code></a>
<code>``javascript
//</code>cancelOrders` may require you to make the request multiple times until
// all the orders are deleted.</p>
</li>
</ul>
<p>// <code>cancelAllOrders</code> will handle making these requests for you asyncronously.
// Also you can add a product_id param to only delete orders of that product</p>
<p>// The response will be the response of the last call and the data will
// have the order ID&apos;s of all your deleted orders
authedClient.cancelAllOrders({product_id: &apos;BTC-USD&apos;}, callback);</p>
<pre><code><code class="source-code prettyprint">
* [`getOrders`](https://docs.gdax.com/#list-open-orders)
```javascript
authedClient.getOrders(callback);
// For pagination, you can include extra page arguments
authedClient.getOrders({&apos;after&apos;: 3000}, callback);</code>
</code></pre><ul>
<li><p><a href="https://docs.gdax.com/#get-an-order"><code>getOrder</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var orderID = &apos;d50ec984-77a8-460a-b958-66f114b0de9b&apos;;
authedClient.getOrder(orderID, callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#list-fills"><code>getFills</code></a></p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">authedClient.getFills(callback);
// For pagination, you can include extra page arguments
authedClient.getFills({&apos;before&apos;: 3000}, callback);</code>
</code></pre>
</li>
<li><p><a href="https://docs.gdax.com/#list-fills"><code>deposit</code>, <code>withdraw</code></a>
```javascript
// Deposit to your Exchange USD account from your Coinbase USD account.
var depositParamsUSD = {
&apos;amount&apos;: &apos;100.00&apos;, // USD,
&apos;coinbase_account_id&apos;: &apos;60680c98bfe96c2601f27e9c&apos;, // USD Coinbase Account ID
};
authedClient.deposit(depositParamsUSD, callback);
// Withdraw from your Exchange USD account to your Coinbase USD account.
var withdrawParamsUSD = {
&apos;amount&apos;: &apos;100.00&apos;, // USD,
&apos;coinbase_account_id&apos;: &apos;60680c98bfe96c2601f27e9c&apos;, // USD Coinbase Account ID
};
authedClient.withdraw(withdrawParamsUSD, callback);</p>
</li>
</ul>
<p>// Deposit to your Exchange BTC account from your Coinbase BTC account.
var depositParamsBTC = {
  &apos;amount&apos;: &apos;2.0&apos;, // BTC,
  &apos;coinbase_account_id&apos;: &apos;536a541fa9393bb3c7000023&apos;, // BTC Coinbase Account ID
};
authedClient.deposit(depositParamsBTC, callback);
// Withdraw from your Exchange BTC account to your Coinbase BTC account.
var withdrawParamsBTC = {
  &apos;amount&apos;: &apos;2.0&apos;, // BTC,
  &apos;coinbase_account_id&apos;: &apos;536a541fa9393bb3c7000023&apos;, // BTC Coinbase Account ID
};
authedClient.withdraw(withdrawParamsBTC, callback);</p>
<pre><code><code class="source-code prettyprint">
### Websocket client
The `WebsocketClient` allows you to connect and listen to the
[exchange websocket messages](https://docs.gdax.com/#messages).
```javascript
var Gdax = require(&apos;gdax&apos;);
var websocket = new Gdax.WebsocketClient();
websocket.on(&apos;message&apos;, function(data) { console.log(data); });</code>
</code></pre><p>The following events can be emitted from the <code>WebsocketClient</code>:</p>
<ul>
<li><code>open</code></li>
<li><code>message</code></li>
<li><code>close</code></li>
</ul>
<h3 id="orderbook">Orderbook</h3>
<p><code>Orderbook</code> is a data structure that can be used to store a local copy of the orderbook.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var Gdax = require(&apos;gdax&apos;);
var orderbook = new Gdax.Orderbook();</code>
</code></pre>
<p>The orderbook has the following methods:</p>
<ul>
<li><code>state(book)</code></li>
<li><code>get(orderId)</code></li>
<li><code>add(order)</code></li>
<li><code>remove(orderId)</code></li>
<li><code>match(match)</code></li>
<li><code>change(change)</code></li>
</ul>
<h3 id="orderbook-sync">Orderbook Sync</h3>
<p><code>OrderbookSync</code> creates a local mirror of the orderbook on GDAX using
<code>Orderbook</code> and <code>WebsocketClient</code> as described <a href="https://docs.gdax.com/#real-time-order-book">here</a>.</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var Gdax = require(&apos;gdax&apos;);
var orderbookSync = new Gdax.OrderbookSync();
console.log(orderbookSync.book.state());</code>
</code></pre>
<h2 id="testing">Testing</h2>
<pre><code class="lang-bash"><code class="source-code prettyprint">npm run test

# test for known vulnerabilities in packages
npm install -g nsp
nsp check --output summary</code>
</code></pre>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.8)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
